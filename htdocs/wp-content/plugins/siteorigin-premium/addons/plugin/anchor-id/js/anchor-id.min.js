var soPremium=window.SiteOriginPremium||{};jQuery((function(o){let n={},t=!1;soPremium.anchorIds=()=>({validAnchorsIds:function(){return o('[class^="so-widget-"][data-anchor-id], .sow-carousel-wrapper[data-anchor-id], .sow-slider-images[data-anchor-id], .so-widget-sow-accordion:not([data-anchor-id]) .sow-accordion-panel[data-anchor-id], .so-widget-sow-tabs:not([data-anchor-id]) .sow-tabs-tab[data-anchor-id]').filter((function(){const n=o(this).data("anchor-id");return""!==n&&void 0!==n&&"__proto__"!==n&&"constructor"!==n&&"prototype"!==n})).map((function(){return String(o(this).data("anchor-id")).replace(/[^a-z0-9-]/gi,"")}))},getAnchors:async function(o=window.location.hash){const n=soPremium.anchorIds().validAnchorsIds();if(!o)return{};const t=o.slice(1).split(",");let a={};return t.forEach(o=>{let t=null,e=null;for(let a of Object.values(n))if(o.startsWith(a)){t=a,e=t!==o?o.slice(a.length+1):o;break}t&&e&&(a[t]||(a[t]=[]),a[t].push(e))}),a},getAnchor:async function(o){return void 0!==n&&Object.keys(n).length||(n=await soPremium.anchorIds().getAnchors()),!!n[o]&&n[o]},delete:function(o){delete n[o]},update:function(o,a=!1){const e=String(o),i=String(a);if(!Object.values(soPremium.anchorIds().validAnchorsIds()).includes(e))return;(Array.isArray(i)?a.length>0:""!==i)?e===i&&window.location.hash.includes(e)?delete n[e]:n[e]=String(i):delete n[e];const r=Object.entries(n).map(([o,n])=>o===n?""+o:`${o}-${n}`).join(",");t=!0,""===r?history.pushState({},null,window.location.pathname):window.location.hash=r,setTimeout((function(){t=!1}),200)},temporarilyDisableScrollTo:function(o){let n=o.scrollto_after_change;n&&(delete o.scrollto_after_change,setTimeout((function(){o.scrollto_after_change=n}),500))},hashChange:async function(){if(t)return void(t=!1);if(!window.location.hash)return;const n=await soPremium.anchorIds().getAnchors();if(Object.keys(n).length){t=!0;for(let t in n)o('[data-anchor-id="'+t+'"]').trigger("anchor_id_hash_change",[n[t]]);t=!1}},setupAnchorLinks:async function(){n=await soPremium.anchorIds().getAnchors();const t=soPremium.anchorIds().validAnchorsIds();let a=[];t&&"object"==typeof t&&(a=Object.values(t),o('a[href*="#"]').each((function(){o(this).attr("href");o('a[href*="#"]').each((function(){const n=o(this).attr("href").split("#")[1].split(",");for(const t of n)if(!a.includes(t)){o(this).addClass("so-anchor-id-link");break}})),o(this).addClass("so-anchor-id-link")})))},init:async function(){if(void 0!==n&&Object.keys(n).length||(n=await soPremium.anchorIds().getAnchors(),soPremium.anchorIds().setupAnchorLinks()),Object.keys(n).length){let t,a;for(let e in n){let n=o('[data-anchor-id="'+e+'"]');if(n.length>0){t=e,a=n;break}}if(a){let e,i=a.attr("class").match(/sow-([a-z]+)-([a-z]+)/);e=!i||"accordion"!==i[1]&&"tabs"!==i[1]?a.parent().parent():a.parent().find('.sow-accordion-panel[data-anchor-id="'+n[t]+'"], .sow-tabs-tab[data-anchor-id="'+n[t]+'"]'),o((function(){setTimeout((function(){soPremium.anchorIds().scrollToAnchor(e)}),200)}))}}},scrollToAnchor:function(n){let t=soPremiumAnchorId.scrollto_offset?soPremiumAnchorId.scrollto_offset:90;n.length&&o("body, html").animate({scrollTop:n.offset().top-t},200,(function(){const a=o(window).scrollTop(),e=n.offset().top-t;a!=e&&o("body, html").scrollTop(e)}))}}),soPremium.anchorIds().init(),o(window).on("hashchange",(function(){soPremium.anchorIds().hashChange()})),o(document).on("click",".so-anchor-id-link",(async function(){const n=o(this).attr("href");if(!n)return;const t=n.split("#").slice(1).join("#"),a=await soPremium.anchorIds().getAnchors("#"+t);if(!a)return;const e=Object.entries(a).map(([o,n])=>({index:o,value:n[0]}));for(const n of e){const{index:t,value:a}=n;let e;if(isNaN(parseInt(a)))e=o(`[data-anchor-id="${a}"]`);else{const n=o(`[data-anchor-id="${t}"]`);if(!n.length)continue;let i=n.find(`[data-anchor-id="${a}"]`);i.length?e=i:(n.trigger("anchor_id_hash_change",[a]),e=n)}if(e.length){soPremium.anchorIds().scrollToAnchor(e);break}}}))})),window.SiteOriginPremium=soPremium;