var soPremium=window.SiteOriginPremium||{};jQuery((function(o){let n={},t=!1;soPremium.anchorIds=()=>({validAnchorsIds:function(){return o('[class^="so-widget-"][data-anchor-id], .sow-carousel-wrapper[data-anchor-id], .sow-slider-images[data-anchor-id], .so-widget-sow-accordion:not([data-anchor-id]) .sow-accordion-panel[data-anchor-id], .so-widget-sow-tabs:not([data-anchor-id]) .sow-tabs-tab[data-anchor-id]').filter((function(){const n=o(this).data("anchor-id");return""!==n&&void 0!==n&&"__proto__"!==n&&"constructor"!==n&&"prototype"!==n})).map((function(){return String(o(this).data("anchor-id")).replace(/[^a-z0-9-]/gi,"")}))},getAnchors:async function(o=window.location.hash){const n=soPremium.anchorIds().validAnchorsIds();if(!o)return{};const t=o.slice(1).split(",");let i={};return t.forEach(o=>{let t=null,a=null;for(let i of Object.values(n))if(o.startsWith(i)){t=i,a=t!==o?o.slice(i.length+1):o;break}t&&a&&(i[t]||(i[t]=[]),i[t].push(a))}),i},getAnchor:async function(o){return void 0!==n&&Object.keys(n).length||(n=await soPremium.anchorIds().getAnchors()),!!n[o]&&n[o]},update:function(o,i=!1){const a=String(o),e=String(i);if(!Object.values(soPremium.anchorIds().validAnchorsIds()).includes(a))return;(Array.isArray(e)?i.length>0:""!==e)?a===e&&window.location.hash.includes(a)?delete n[a]:n[a]=String(e):delete n[a];const r=Object.entries(n).map(([o,n])=>o===n?""+o:`${o}-${n}`).join(",");t=!0,""===r?history.pushState({},null,window.location.pathname):window.location.hash=r,setTimeout((function(){t=!1}),200)},temporarilyDisableScrollTo:function(o){let n=o.scrollto_after_change;n&&(delete o.scrollto_after_change,setTimeout((function(){o.scrollto_after_change=n}),500))},hashChange:async function(){if(t)return void(t=!1);if(!window.location.hash)return;const n=await soPremium.anchorIds().getAnchors();if(Object.keys(n).length){t=!0;for(let t in n)o('[data-anchor-id="'+t+'"]').trigger("anchor_id_hash_change",[n[t]]);t=!1}},setupAnchorLinks:async function(){n=await soPremium.anchorIds().getAnchors();const t=soPremium.anchorIds().validAnchorsIds();let i=[];t&&"object"==typeof t&&(i=Object.values(t),o('a[href*="#"]').each((function(){o(this).attr("href");o('a[href*="#"]').each((function(){const n=o(this).attr("href").split("#")[1].split(",");for(const t of n)if(!i.includes(t)){o(this).addClass("so-anchor-id-link");break}})),o(this).addClass("so-anchor-id-link")})))},init:async function(){if(void 0!==n&&Object.keys(n).length||(n=await soPremium.anchorIds().getAnchors(),soPremium.anchorIds().setupAnchorLinks()),Object.keys(n).length){let t,i;for(let a in n){let n=o('[data-anchor-id="'+a+'"]');if(n.length>0){t=a,i=n;break}}if(i){let a,e=i.attr("class").match(/so-widget-sow-([a-z-]+)/);a=!e||"accordion"!==e[1]&&"tabs"!==e[1]?i.parent().parent():i.find('.sow-accordion-panel[data-anchor-id="'+n[t]+'"], .sow-tabs-tab[data-anchor-id="'+n[t]+'"]'),o((function(){setTimeout((function(){soPremium.anchorIds().scrollToAnchor(a)}),200)}))}}},scrollToAnchor:function(n){let t=soPremiumAnchorId.scrollto_offset?soPremiumAnchorId.scrollto_offset:90;n.length&&o("body, html").animate({scrollTop:n.offset().top-t},200,(function(){const i=o(window).scrollTop(),a=n.offset().top-t;i!=a&&o("body, html").scrollTop(a)}))}}),soPremium.anchorIds().init(),o(window).on("hashchange",(function(){soPremium.anchorIds().hashChange()})),o(document).on("click",".so-anchor-id-link",(async function(){const n=o(this).attr("href");if(!n)return;const t=n.split("#").slice(1).join("#"),i=await soPremium.anchorIds().getAnchors("#"+t);if(!i)return;const a=Object.entries(i).map(([o,n])=>({index:o,value:n[0]}));for(const n of a){const{index:t,value:i}=n;let a;if(isNaN(parseInt(i)))a=o(`[data-anchor-id="${i}"]`);else{const n=o(`[data-anchor-id="${t}"]`);if(!n.length)continue;let e=n.find(`[data-anchor-id="${i}"]`);e.length?a=e:(n.trigger("anchor_id_hash_change",[i]),a=n)}if(a.length){soPremium.anchorIds().scrollToAnchor(a);break}}}))})),window.SiteOriginPremium=soPremium;