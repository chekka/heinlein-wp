!function(e){const i=e=>{let i=e.find('[name="style[video_background]"]');i&&0!=i.val()||(i=e.find(".video-fallback"));const o=i.val();return o&&0!=o},o=o=>{i(o)?(e(".so-field-video_background_opacity").show(),o.siblings(".so-field-video_background_opacity").show(),o.siblings(".so-field-video_background_play_once").show(),o.siblings(".so-field-video_background_display").show()):(o.siblings(".so-field-video_background_opacity").hide(),o.siblings(".so-field-video_background_play_once").hide(),o.siblings(".so-field-video_background_display").hide())};e(document).on("setup_style_fields",(function(d,n){const s=n.$el.find(".so-field-video_background");s.find(".so-video-placeholder img").toggleClass("hidden",!i(s));let l=null;s.find(".so-video-selector").on("click",(function(i){i.preventDefault(),null===l&&(l=wp.media({title:soVideoBackgroundField.add_media,library:{type:"video"},button:{text:soVideoBackgroundField.add_media_done,close:!0}}),l.on("open",(function(){const e=l.state().get("selection"),i=s.find('.so-video-selector input[type="hidden"]').val();i&&e.add(wp.media.attachment(i))})),l.on("select",(function(){const e=l.state().get("selection").first().attributes;s.find(".so-video-placeholder img").show();const i=s.find('.so-video-selector input[type="hidden"]');i.val(e.id).trigger("change"),s.find(".remove-video").removeClass("hidden"),i.val()>0&&s.find(".so-video-placeholder img").removeClass("hidden")}))),e(this).next().trigger("focus"),l.open()})),s.find(".remove-video").on("click",(function(e){e.preventDefault(),s.find(".so-video-placeholder img").addClass("hidden"),s.find(".so-video-selector > input").val(""),s.find(".remove-video").addClass("hidden")})),o(s),s.find('[name="style[video_background]"], .video-fallback').on("change",(function(){o(s)})),s.find(".remove-video").on("click",(function(){o(s)}))}))}(jQuery);