!function(t){var e={},n={};t.fn.webfontselector=function(){var t=Array.prototype.slice.call(arguments);if("string"==typeof t[0]){var n=t[0];e.hasOwnProperty(n)&&"function"==typeof e[n]&&(t.length>1?e[n].apply(this,t.slice(1)):e[n].apply(this))}else"object"==typeof t[0]&&e.init.apply(this,t)},e.init=function(a){return a=e.setDefaultOptions(a),this.each((function(){var e=t(this),o=e.parent();if(window.matchMedia("(max-width: 468px)").matches?e.append('<option value="" data-webfont="false" disabled>'+soPremiumFonts.placeholder_text+"</option>"):e.append('<option value="" data-webfont="false"></option>'),a.useInherit&&e.append('<option value="inherit" data-webfont="false">Inherit</option>'),a.useVariants){o.append(`<div class="siteorigin-premium-variant-field-wrapper"><label>${soPremiumFontsWebFontSelector.variant}</label><select class="font-variant"></select></div>`);var i=o.find("select.font-variant");i.parent().hide(),i.chosen({allow_single_deselect:!0,search_contains:!0})}var r=!1;for(var l in a.modules){var s=a.modules[l],p=s.hasOwnProperty("label")?s.label:l,f=t('<optgroup label="'+p+'"></optgroup>');for(var d in f.data("module",l),e.append(f),s.fonts){var c=s.fonts[d],h=t("<option>"+d+"</option>");h.val(d),"Web Safe"!=p&&Array.isArray(c)&&c.length?(h.data("variants",c.join(",")),h.attr("style",`font-family: "${d}", __${l}`)):h.attr("style",`font-family: "${d}", ${c.category}, __${l}`),h.data("webfont","web_safe"!==l),f.append(h)}}e.on("change",(function(){var e=t(this).find("option:selected");if(a.useVariants)if(i.empty().val(""),void 0!==e.data("variants")){var n=e.data("variants").split(",");i.append(t("<option></option>")).val(""),t.each(n,(function(e,n){i.append(t("<option></option>").html(n))})),n.indexOf("regular")>-1?i.val("regular"):n.indexOf("400")>-1?i.val("400"):i.val(n[0]),i.find("option").length>2?i.parent().css("display","inline-block"):i.parent().hide(),i.trigger("chosen:updated")}else i.parent().hide()}));var u=function(o,l){if(r){var s={};s.font=e.val();var p=e.find("option:selected");s.webfont=p.data("webfont"),a.useVariants&&(s.variant=i.val()),s.module=p.parent().data("module");var f=p.attr("style");f?!s.webfont||n.hasOwnProperty(s.font)&&n[s.font]||(WebFont.load({google:{families:[s.font]}}),n[s.font]=!0):f=null,e.siblings(".chosen-container").find(".chosen-single > span").attr("style",f);var d=t(this).data("currentValue");l&&l.silent||t(this).trigger("font_change",[s,d]),t(this).data("currentValue",s)}}.bind(this);o.find("select").on("change",u);var v=null;if(null===v){var g=null;e.on("chosen:ready",(function(e,a){var o=a.chosen.dropdown,i=o.find(".chosen-results");o.find(".chosen-results").on("scroll",(function(){clearTimeout(g),g=setTimeout((function(){var e,a,o={};i.find("li").each((function(){var r=t(this),l=r.position().top;void 0!==r.attr("style")&&""!==r.attr("style")&&-1===r.attr("style").indexOf("__web_safe")&&l>-10&&l<i.outerHeight()+30&&(a=r.attr("style").match(/"([^']+)"/),e=a[1].replace(/['"]/g,"").trim(),"google",void 0===o.google&&(o.google=[]),void 0===n[e]&&(o.google.push(e),n[e]=!0))})),o.hasOwnProperty("google")&&o.google.length>0&&WebFont.load({google:{families:o.google}})}),500)})),setTimeout((function(){i.trigger("scroll")}),500),a.chosen.search_field.on("keyup",(function(){setTimeout((function(){i.trigger("scroll")}),500)}))})).on("chosen:showing_dropdown",(function(t,e){e.chosen.dropdown.find(".chosen-results").trigger("scroll")}));var y={allow_single_deselect:!0,search_contains:!0};a.hasOwnProperty("width")&&(y.width=a.width),e.chosen(y),v=!0}r=!0}))},e.setDefaultOptions=function(t){var e={useVariants:!0};for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t},e.update=function(t,e){var n=t;if(n&&"inherit"!==n){var a=(n=n.split(",")[0]).match(/[\'\"]?([^\'\"]+)[\'\"]?/);null!=a&&(n=a.length>1?a[1]:a[0])}this.val()!==n&&(this.val(n),this.trigger("chosen:updated"),this.trigger("change",{silent:!0}));var o=this.parent().find("select.font-variant");o.length&&e&&o.val(e)}}(jQuery);