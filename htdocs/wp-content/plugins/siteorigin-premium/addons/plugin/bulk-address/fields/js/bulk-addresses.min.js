!function(i){var e=function(i,t,d,r=!1){d.getQueryPredictions({input:i},(function(r,n){a||t.find(".siteorigin-widget-field-repeater-add").trigger("click");var s=t.find(".siteorigin-widget-field-repeater-item").last(),o=s.find(".siteorigin-widget-location-input");if(a||s.find(".siteorigin-widget-field-repeater-item-top").trigger("click"),n!=google.maps.places.PlacesServiceStatus.OK||!r){s.find(".siteorigin-widget-field-remove").trigger("click",{silent:!0});var a=prompt(soBulkAddressesField.error,i);return"string"==typeof a&&e(a,t,d,!0)}return o.val(r[0].description),sowbForms.LocationField().getSimplePlace({name:r[0].description}).then((function(i){s.find(".location-field-data").val(JSON.stringify(i)),o.val(r[1].description)})).catch((function(i){console.warn('SiteOrigin Google Maps Widget: Geocoding failed for "'+r[0].description+'" with status: '+i)})),!0}))};i(document).on("sowsetupformfield",".siteorigin-widget-field-type-bulk_addresses",(function(t){var d=i(this);if(!d.data("initialized")){var r=i(this).find(".so-bulk-addresses-field-add-bulk"),n=i(this).find(".so-bulk-addresses-field-add-wrapper"),s=i(this).find(".button-primary"),o=i(this).find("textarea");r.on("click",(function(){r.hide(),n.show()})),o.on("keyup",(function(){o.val()?s.removeClass("disabled"):s.addClass("disabled")})),s.on("click",(function(){var i=o.val().split("\n"),t=jQuery(".siteorigin-widget-field-type-bulk_addresses").parents(".siteorigin-widget-field-markers");i.reverse();for(var d=new google.maps.places.AutocompleteService,a=0;a<i.length;a++)""!=i[a]&&e(i[a],t,d);o.val(""),s.addClass("disabled"),r.show(),n.hide()})),d.data("initialized",!0)}}))}(jQuery);