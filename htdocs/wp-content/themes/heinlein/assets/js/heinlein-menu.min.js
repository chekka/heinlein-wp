!function($,Drupal){"use strict";Drupal.behaviors.heinlein_menu={attach:function(context,settings){this.smooth_scroll(context),this.menu(context)},hide_xs_menu:function(){window.innerWidth<992&&($("header#header").removeClass("xs-active"),$(".navbar-toggler-icon").addClass("fa-bars"),$(".navbar-toggler-icon").removeClass("close-icon"),$(".collapse").collapse("hide"),this.xs_sticky())},show_xs_menu:function(){window.innerWidth<992&&($("header#header").addClass("xs-active"),$(".navbar-toggler-icon").removeClass("fa-bars"),$(".navbar-toggler-icon").addClass("close-icon"))},xs_sticky:function(){window.innerWidth<992&&(window.pageYOffset>10&&0==$("header#header").hasClass("xs-active")?$("header#header").addClass("xs-sticky"):$("header#header").removeClass("xs-sticky"))},menu:function(context){var $this=this;if($("body",context))if(window.innerWidth<992){var height=0;$(".navbar-toggler").on("click",(function(c){$("#CollapsingNavbar").hasClass("show")?$this.hide_xs_menu():$this.show_xs_menu()})),window.onscroll=function(){$this.xs_sticky()},$this.xs_sticky()}else{function doSticky(){0==$("header div[data-open]").length&&($("div[id^=desk-]").removeClass("active"),$("#desktop-menu,#header").removeClass("show")),$("header div[data-open]").removeAttr("data-open"),window.pageYOffset>0?($("header#header").addClass("sticky"),$("body").addClass("sticky scrolled"),0==$("header div[data-open]").length&&$("header#header").removeClass("sticky-auto")):($("header#header").removeClass("sticky"),$("body").removeClass("sticky scrolled"))}$(".navbar-nav .dropdown-menu").remove(),$("a.nav-link").on("mouseenter",(function(){$("#header").addClass("active")})),$(".navbar-nav a.dropdown-toggle").each((function(idx,a){var base=$this.baseName($(a).prop("href"));$(this).on("click",(function(){var target=$(this).attr("href");window.location.href=target})),$(a).on("mouseenter",(function(e){$("div[id^=desk-]").not("#desk"+base).removeClass("active"),$("#desktop-menu,#header").addClass("show"),$("#desk-"+base).toggleClass("active"),$("#desk-"+base).attr("data-open","true"),$("header.sticky").addClass("sticky-auto")}))})),$("html[lang=en] #block-menudesktop .content .field .field__item:nth-child(6)").remove(),$("html[lang=fr] #block-menudesktop .content .field .field__item:nth-child(6)").remove(),$("html[lang=ru] #block-menudesktop .content .field .field__item:nth-child(6)").remove(),$("#block-menudesktop .field > .field__item").each((function(i){$(this).attr("data-index",i+1)})),$(".navbar-nav a.dropdown-toggle").each((function(i){$(this).on("mouseenter",(function(){var current=i+1;$("div[id^=desk-]").removeClass("active"),$("#desktop-menu,#header").addClass("show"),$("#block-menudesktop .field > .field__item[data-index="+current+"] > div").toggleClass("active").attr("data-open","true"),$("header.sticky").addClass("sticky-auto")}))})),window.onscroll=function(){doSticky(),$("#header").removeClass("active")},doSticky(),$("#header").on("mouseleave",(function(){$("#desktop-menu,#header").removeClass("show")}))}},smooth_scroll:function(context){if($("body",context).length>0){var $this=this;$(window).on("load",(function(){if(window.location.hash){var t=window.location.hash;$("html, body").animate({scrollTop:$(t).offset().top-130},1e3,(function(){$(t).focus()}))}})),$('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click((function(event){if($this.hide_xs_menu(),location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var target=$(this.hash);(target=target.length?target:$("[name="+this.hash.slice(1)+"]")).length&&(event.preventDefault(),$("html, body").animate({scrollTop:target.offset().top-130},1e3,(function(){var $target;$(target).focus()})));var hash=$(this).attr("href").split("#").pop();window.location.hash="#"+hash}}))}},baseName:function(str){var base=new String(str).substring(str.lastIndexOf("/")+1);return-1!=base.lastIndexOf(".")&&(base=base.substring(0,base.lastIndexOf("."))),base}}}(jQuery,Drupal);
//# sourceMappingURL=heinlein-menu.min.js.map